<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Get to First Value</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body{font-family:system-ui,Segoe UI,Inter,Arial,sans-serif;max-width:760px;margin:40px auto;padding:0 16px;line-height:1.5}
    button{padding:10px 14px;border:1px solid #ddd;border-radius:10px;background:#fff;margin:6px 6px 0 0;cursor:pointer}
    .muted{color:#666}
  </style>

<script>
  !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){
    function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}
    (p=t.createElement("script")).type="text/javascript",p.async=!0,
    p.src="https://us.i.posthog.com/static/array.js",  // US Cloud loader
    (r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);
    var u=e;void 0!==a?u=e[a]=[]:a="posthog";u.people=u.people||[];
    u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e};
    u.people.toString=function(){return u.toString(1)+".people (stub)"};
    o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing opt_in_capturing has_opted_out_capturing reset isFeatureEnabled onFeatureFlags group".split(" ");
    for(n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
  
  // ---- PostHog init (US Cloud) ----
  posthog.init('phc_3ACn7GrUe4Qzji0iXMvm7dmyL3XDx7G36SfUH9TQ4il', {
    api_host: 'https://us.i.posthog.com',
    capture_pageview: true
  });
  
  // Tag every event so you can filter/debug by env or project
  posthog.register({ project_env: 'test', project_id: 211328 });
  </script>
 
 <script>
  (function () {
    const q = new URLSearchParams(location.search), p = {};
    ['utm_source','utm_medium','utm_campaign','utm_content','utm_term'].forEach(k=>{
      if (q.get(k)) p[k]=q.get(k);
    });
    if (q.get('utm_source')) p.source = q.get('utm_source');
    if (Object.keys(p).length) posthog.register(p);
  })();
  </script>
  

</head>
<body>
  <h1>Get users to first value</h1>
  <p class="muted">Click these demo buttons to generate events and confirm your setup.</p>

  <div>
    <button onclick="posthog.capture('sign_up', {source:'landing', plan:'free'})">Fire sign_up</button>
    <button onclick="posthog.capture('onboarding_started', {step:'profile'})">Fire onboarding_started</button>
    <button onclick="posthog.capture('onboarding_completed', {time_to_complete:180})">Fire onboarding_completed</button>
    <button onclick="posthog.capture('first_value', {value_type:'demo', time_from_signup:3})">Fire first_value</button>
    <button onclick="posthog.capture('habit_action', {count_7d:3, count_28d:9})">Fire habit_action</button>
  </div>

  <p style="margin-top:24px">
    <button onclick="posthog.identify('user_'+Math.floor(Math.random()*100000), {plan:'free', source:'landing'})">
      Identify a user (fake id)
    </button>
  </p>

  <p class="muted">Next: build a funnel in PostHog (sign_up → onboarding_started → onboarding_completed → first_value).</p>

  <button id="cta">Get Starter Pack</button>
  <script>
    document.getElementById('cta').addEventListener('click', function (e) {
      e.preventDefault();
      posthog.capture('sign_up',
        { source: 'landing', plan: 'free' },
        { transport: 'sendBeacon', send_instantly: true }
      );
      // tiny delay just in case the browser can't beacon immediately
      setTimeout(() => { window.location.href = 'YOUR_CHECKOUT_URL'; }, 150);
    });
  </script>
  
  
</body>
</html>
